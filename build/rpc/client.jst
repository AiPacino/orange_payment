'use strict'
const jayson = require('jayson')
const client = jayson.client.http('@{host}')

let clientRequest = (method , args) => {
  return new Promise((resolve , reject) => {
    client.request(method , args , (err , rsp) => {
      if (err){
        reject(err)
      }

      resolve(JSON.parse(rsp.result))
    })
  })
}

@{_methods}

let clientProxy = {
  @{methods}
}

let clientArgs = {
  @{args}
}

module.exports = {
  rpcProxy : clientProxy,
  rpcArgs : clientArgs
}